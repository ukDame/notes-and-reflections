<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes & Reflections - Interactive Journal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --teal: #4A9B9B;
            --coral: #E89B7E;
            --sage: #8FB89C;
            --charcoal: #2C3E50;
            --light-bg: #F7F9F9;
            --white: #ffffff;
            --light-gray: #E8ECEF;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--light-bg) 0%, #E8F4F4 100%);
            color: var(--charcoal);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(74, 155, 155, 0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--teal) 0%, var(--sage) 100%);
            color: var(--white);
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
            font-style: italic;
        }

        .intro {
            padding: 30px;
            background: var(--light-bg);
            border-bottom: 3px solid var(--coral);
        }

        .intro p {
            margin-bottom: 12px;
            font-size: 1em;
            color: var(--charcoal);
        }

        .intro p:last-child {
            margin-top: 18px;
            font-weight: 500;
            color: var(--teal);
        }

        .content {
            padding: 40px 30px;
        }

        .reflection-section {
            margin-bottom: 50px;
            border-left: 4px solid var(--sage);
            padding-left: 20px;
            transition: border-color 0.3s ease;
        }

        .reflection-section:hover {
            border-left-color: var(--teal);
        }

        .reflection-section label {
            display: block;
            font-size: 1.15em;
            font-weight: 600;
            color: var(--teal);
            margin-bottom: 15px;
        }

        .reflection-section textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1em;
            line-height: 1.8;
            color: var(--charcoal);
            resize: vertical;
            transition: all 0.3s ease;
            background: var(--white);
        }

        .reflection-section textarea:focus {
            outline: none;
            border-color: var(--teal);
            box-shadow: 0 0 0 3px rgba(74, 155, 155, 0.1);
        }

        .reflection-section textarea::placeholder {
            color: #A0AEC0;
            font-style: italic;
        }

        .autosave-indicator {
            text-align: right;
            padding: 0 30px 20px;
            font-size: 0.9em;
            color: var(--sage);
            font-style: italic;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            padding: 30px;
            border-top: 2px solid var(--light-bg);
            background: var(--light-bg);
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .btn-primary {
            background: var(--teal);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #3A8B8B;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 155, 155, 0.3);
        }

        .btn-secondary {
            background: var(--coral);
            color: var(--white);
        }

        .btn-secondary:hover {
            background: #D88B6E;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(232, 155, 126, 0.3);
        }

        .btn-tertiary {
            background: var(--light-gray);
            color: var(--charcoal);
        }

        .btn-tertiary:hover {
            background: #D8DCDF;
        }

        .footer {
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
            color: var(--sage);
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 1em;
            }

            .content {
                padding: 30px 20px;
            }

            .action-buttons {
                flex-direction: column;
            }

            button {
                width: 100%;
            }
        }

        @media print {
            body {
                background: white;
            }

            .container {
                box-shadow: none;
            }

            .action-buttons,
            .autosave-indicator {
                display: none;
            }

            .reflection-section textarea {
                border: none;
                border-bottom: 1px solid #ccc;
                min-height: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Notes & Reflections</h1>
            <p>A space to pause, think, and gather your thoughts</p>
        </div>

        <div class="intro">
            <p>Your journey, or the journey of someone you love, may feel overwhelming at times.</p>
            <p>Writing things down can bring clarity and a sense of control.</p>
            <p>Use this space for anything that feels important: your thoughts, worries, hopes, questions for your medical team, or simple reminders to yourself.</p>
            <p>There is no right or wrong way to reflect.</p>
            <p>Just write what feels true in the moment.</p>
        </div>

        <div class="autosave-indicator" id="autosaveStatus">
            Your reflections are automatically saved as you type
        </div>

        <div class="content">
            <div class="reflection-section">
                <label for="remember">What I want to remember:</label>
                <textarea id="remember" placeholder="Moments, feelings, words that matter to you..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="learning">What am I learning about myself through this experience?</label>
                <textarea id="learning" placeholder="New insights, strengths you've discovered, ways you've grown..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="grateful">What I'm grateful for today:</label>
                <textarea id="grateful" placeholder="Big or small things that brought light to your day..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="support">Who or what has been my biggest source of support?</label>
                <textarea id="support" placeholder="People, places, activities, or beliefs that sustain you..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="questions">Questions I want to ask my doctor or nurse:</label>
                <textarea id="questions" placeholder="Write down anything you want to remember to ask..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="victory">What small victory or achievement can I celebrate today (no matter how small)?</label>
                <textarea id="victory" placeholder="Every step forward counts..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="relax">What helped me relax recently:</label>
                <textarea id="relax" placeholder="Activities, moments, or practices that brought you peace..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="comfort">What brings me comfort or peace?</label>
                <textarea id="comfort" placeholder="Your personal sources of calm and reassurance..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="release">What do I need to let go of or release right now?</label>
                <textarea id="release" placeholder="Worries, expectations, guilt, or anything that no longer serves you..."></textarea>
            </div>

            <div class="reflection-section">
                <label for="future">A message to my future self:</label>
                <textarea id="future" placeholder="Words of encouragement, hope, or wisdom for the days ahead..."></textarea>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn-primary" onclick="downloadReflections()">üì• Download as Text File</button>
            <button class="btn-secondary" onclick="printReflections()">üñ®Ô∏è Print</button>
            <button class="btn-tertiary" onclick="clearReflections()">üóëÔ∏è Clear All</button>
        </div>

        <div class="footer">
            Your reflections are saved locally in your browser. They remain private and are not shared with anyone.
        </div>
    </div>

    <script>
        // List of all textarea IDs
        const textareaIds = [
            'remember', 'learning', 'grateful', 'support', 'questions',
            'victory', 'relax', 'comfort', 'release', 'future'
        ];

        // Labels for each section
        const labels = {
            'remember': 'What I want to remember:',
            'learning': 'What am I learning about myself through this experience?',
            'grateful': "What I'm grateful for today:",
            'support': 'Who or what has been my biggest source of support?',
            'questions': 'Questions I want to ask my doctor or nurse:',
            'victory': 'What small victory or achievement can I celebrate today (no matter how small)?',
            'relax': 'What helped me relax recently:',
            'comfort': 'What brings me comfort or peace?',
            'release': 'What do I need to let go of or release right now?',
            'future': 'A message to my future self:'
        };

        // Load saved data on page load
        window.addEventListener('DOMContentLoaded', () => {
            textareaIds.forEach(id => {
                const savedValue = localStorage.getItem(`reflection_${id}`);
                if (savedValue) {
                    document.getElementById(id).value = savedValue;
                }
            });
        });

        // Autosave functionality
        let saveTimeout;
        textareaIds.forEach(id => {
            const textarea = document.getElementById(id);
            textarea.addEventListener('input', () => {
                clearTimeout(saveTimeout);
                document.getElementById('autosaveStatus').textContent = 'Saving...';
                
                saveTimeout = setTimeout(() => {
                    localStorage.setItem(`reflection_${id}`, textarea.value);
                    document.getElementById('autosaveStatus').textContent = 'Saved ‚úì';
                    setTimeout(() => {
                        document.getElementById('autosaveStatus').textContent = 
                            'Your reflections are automatically saved as you type';
                    }, 2000);
                }, 1000);
            });
        });

        // Download as text file
        function downloadReflections() {
            let content = "NOTES & REFLECTIONS\n";
            content += "A space to pause, think, and gather your thoughts\n";
            content += "‚ïê".repeat(60) + "\n\n";
            
            textareaIds.forEach(id => {
                const value = document.getElementById(id).value;
                if (value.trim()) {
                    content += labels[id] + "\n";
                    content += "‚îÄ".repeat(60) + "\n";
                    content += value + "\n\n\n";
                }
            });

            content += "\n" + "‚ïê".repeat(60) + "\n";
            content += "Created: " + new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Reflections_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Print reflections
        function printReflections() {
            window.print();
        }

        // Clear all reflections with confirmation
        function clearReflections() {
            if (confirm('Are you sure you want to clear all your reflections? This action cannot be undone.')) {
                textareaIds.forEach(id => {
                    document.getElementById(id).value = '';
                    localStorage.removeItem(`reflection_${id}`);
                });
                alert('All reflections have been cleared.');
            }
        }
    </script>
</body>
</html>
